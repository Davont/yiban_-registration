<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>南京邮电大学易班发展中心招新报名表</title>
  <link rel="stylesheet" href="css/layui.css">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script type='text/javascript' src='js/jquery-1.11.1.min.js'></script>
  <script type='text/javascript' src='js/jquery.particleground.min.js'></script>
  <script type='text/javascript' src='js/demo.js'></script>
</head>
<body>
    <div id="particles" class="hg-30">
        <div id="header" >
            <div id="icon-box">
                <img src="images/logo.png">
            </div>
            <div id="intro-box">
                <p>加入我们，一起追寻更好的自己</p>
            </div>
        </div>
    </div>
    <div id="content">
        <form class="layui-form" id="form">
                
               
                <div class="layui-form-item">
                    <fieldset class="layui-elem-field layui-field-title">
                            <legend>学号</legend>
                            <div class="layui-field-box">
                                <input type="text" name="stuNo" id="stuNo"  required  lay-verify="required|stuNo" placeholder="请输入学号" autocomplete="off" class="layui-input">
                            </div>
                    </fieldset>
                </div>
                <div class="layui-form-item">
                    <fieldset class="layui-elem-field layui-field-title">
                        <legend>手机号</legend>
                        <div class="layui-field-box">
                            <input type="tel" name="phoneNo" required  lay-verify="required|phone" placeholder="请输入手机号" autocomplete="off" class="layui-input">
                        </div>
                    </fieldset>
                </div>
                <div class="layui-form-item">
                    <div class="layui-input-block">
                    <button class="layui-btn layui-bg-blue" id="submit" lay-submit lay-filter="formDemo">立即提交</button>
                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                    </div>
                </div>
        </form>
    </div>
    
        <script src="layui.js"></script>
        <script>
        function urlChange() {
            window.location.href='result.html';
        }
        $("#stuNo").keydown(function () {
            
        })
        //Demo
        layui.use('form', function(){
        var form = layui.form;
        //监听select
        form.on('select(select1)', function(data){
            $("select[name=department2]").empty();
            //console.log($("select[name=department2] option[value="+data.value+"]")[0]);
            let options="<option value=''></option>"
                        +"<option value='技术部'>技术部</option>"
                        +"<option value='设计部'>设计部</option>"
                        +"<option value='事务部'>事务部</option>"
                        +"<option value='外联部'>外联部</option>"
                        +"<option value='项目部'>项目部</option>"
                        +"<option value='宣传部'>宣传部</option>"
            $("select[name=department2]").append(options);
            $("select[name=department2] option[value="+data.value+"]")[0].remove();            
            form.render('select');
            console.log(data.elem); //得到select原始DOM对象
            console.log(data.value); //得到被选中的值
            console.log(data.othis); //得到美化后的DOM对象
        });
        //验证表单
        form.verify({
            
            stuNo: [
                /^[b,q,B,Q]{1}([0-9]){8}$/
                ,'你的学号格式不对哦'
            ] 
        });      
        //监听提交
        form.on('submit(formDemo)', function(submitData){
            console.log(submitData.field) //当前容器的全部表单字段，名值对形式：{name: value}
            
                return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
        });
        });
        
        </script>
</body>
</html>